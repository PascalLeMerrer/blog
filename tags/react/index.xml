<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>React on Pascal&#39;s dev blog</title>
    <link>https://PascalLeMerrer.github.io/blog/tags/react/</link>
    <description>Recent content in React on Pascal&#39;s dev blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 28 Aug 2016 21:54:34 +0200</lastBuildDate>
    <atom:link href="https://PascalLeMerrer.github.io/blog/tags/react/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Creating a mobile application with React Native - part 2</title>
      <link>https://pascallemerrer.github.io/blog/post/react-native-2/</link>
      <pubDate>Sun, 28 Aug 2016 21:54:34 +0200</pubDate>
      
      <guid>https://pascallemerrer.github.io/blog/post/react-native-2/</guid>
      <description>

&lt;p&gt;This article is the second in a series started with &lt;a href=&#34;https://pascallemerrer.github.io/blog/post/react-native-1/&#34;&gt;Creating a mobile application with React Native - part 1&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Today, we will enrich our basic app with a list of albums provided by the deezer API. We will use &lt;a href=&#34;http://nativebase.io&#34;&gt;Native Base&lt;/a&gt;, which is a complement to React Native. It provides higher level, polished components and layouts, for both iOS and Android.&lt;/p&gt;

&lt;p&gt;With Native Base you have much less boilerplate code to write than with React Native alone. At first sight, it looks like a kind of &lt;a href=&#34;http://getbootstrap.com/&#34;&gt;Twitter Bootstrap&lt;/a&gt; for mobile development with React Native.&lt;/p&gt;

&lt;h2 id=&#34;install-native-base&#34;&gt;Install Native Base&lt;/h2&gt;

&lt;p&gt;First thing first, download NativeBase and add it to the dependencies in package.json:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; AwesomeNativeBase
npm install native-base --save
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then, includeinto the app the icon fonts provided by React Native:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mkdir android/apps/src/main/assets/fonts
cp node_modules/react-native-vector-icons/Fonts/*.ttf android/app/src/main/assets/fonts/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Edit &lt;code&gt;android/settings.gradle&lt;/code&gt; and add the following lines:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;include &#39;:react-native-vector-icons&#39;
project(&#39;:react-native-vector-icons&#39;).projectDir = new File(rootProject.projectDir, &#39;../node_modules/react-native-vector-icons/android&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Edit &lt;code&gt;android/app/build.gradle&lt;/code&gt; and add the following line to the &lt;code&gt;dependencies&lt;/code&gt; node:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;compile project(&#39;:react-native-vector-icons&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Finally build the app:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;npm run build
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;create-a-native-base-gui&#34;&gt;Create a Native Base GUI&lt;/h2&gt;

&lt;p&gt;Replace the content of &lt;code&gt;index.android.js&lt;/code&gt; with:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span&gt;&lt;/span&gt;import React, { Component } from &amp;#39;react&amp;#39;;
import { AppRegistry } from &amp;#39;react-native&amp;#39;;
import { Content, Container, Header, Text, Title } from &amp;#39;native-base&amp;#39;;

class AwesomeNativeBase extends Component {
    render() {
        return (
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Container&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Header&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
                    &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;Albums&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Header&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;

                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Content&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
                  &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
                    Hello World!
                  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Content&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Container&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
        );
    }
}

AppRegistry.registerComponent(&amp;#39;AwesomeNativeBase&amp;#39;, () =&amp;gt; AwesomeNativeBase);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The import directives list all the React, React Native and NativeBase components used.
Several React Native basic components are replaced by their Native Base counterparts in the render function.&lt;/p&gt;

&lt;p&gt;You should be able to run the app and see the &amp;ldquo;Hello World!&amp;rdquo; message under the header.
Refer to the &lt;a href=&#34;https://pascallemerrer.github.io/blog/post/react-native-1/&#34;&gt;first part&lt;/a&gt; if you need some explanation to run it.&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://PascalLeMerrer.github.io/blog/post/img/react-native-2/screenshot_1.png&#34;  /&gt;
    
    
&lt;/figure&gt;


&lt;h2 id=&#34;create-the-albumlist-component&#34;&gt;Create the AlbumList component&lt;/h2&gt;

&lt;p&gt;Now let&amp;rsquo;s create a file named &lt;code&gt;albumlist.js&lt;/code&gt;, at the same level than &lt;code&gt;index.android.js&lt;/code&gt;. It will contain the description for a basic list component:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;React&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Component&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;react&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kr&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ListItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Text&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;native-base&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kr&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;AlbumList&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;extends&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Component&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;

  &lt;span class=&#34;nx&#34;&gt;constructor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;props&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kr&#34;&gt;super&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;props&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;state&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;albums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;foo&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;bar&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;baz&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

  &lt;span class=&#34;nx&#34;&gt;render&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
      &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;List&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;dataArray&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;state&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;albums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;renderRow&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ListItem&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;
                    &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Text&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/Text&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/ListItem&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/List&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The constructor is used to define the states of the component. At this stage, the list of albums is just a list of strings. The Native Base List component iterates on these strings and render a ListItem for each of them.&lt;/p&gt;

&lt;p&gt;Then change the content of &lt;code&gt;index.android.js&lt;/code&gt;, to include the AlbumList component:&lt;/p&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;lineno&#34;&gt; 1 &lt;/span&gt;import React, { Component } from &amp;#39;react&amp;#39;;
&lt;span class=&#34;lineno&#34;&gt; 2 &lt;/span&gt;import { AppRegistry } from &amp;#39;react-native&amp;#39;;
&lt;span class=&#34;lineno&#34;&gt; 3 &lt;/span&gt;import { Button, Content, Container, Footer, Header, Icon, Title } from &amp;#39;native-base&amp;#39;;
&lt;span class=&#34;lineno&#34;&gt; 4 &lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt; 5 &lt;/span&gt;import AlbumList from &amp;#39;./albumlist&amp;#39;;
&lt;span class=&#34;lineno&#34;&gt; 6 &lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt; 7 &lt;/span&gt;class AwesomeNativeBase extends Component {
&lt;span class=&#34;lineno&#34;&gt; 8 &lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt; 9 &lt;/span&gt;    render() {
&lt;span class=&#34;lineno&#34;&gt;10 &lt;/span&gt;        return (
&lt;span class=&#34;lineno&#34;&gt;11 &lt;/span&gt;            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Container&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;12 &lt;/span&gt;                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Header&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;13 &lt;/span&gt;                   &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;Albums&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;14 &lt;/span&gt;                &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Header&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;15 &lt;/span&gt;                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Content&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;16 &lt;/span&gt;                  &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;AlbumList&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;17 &lt;/span&gt;                &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Content&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;18 &lt;/span&gt;            &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Container&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;19 &lt;/span&gt;        );
&lt;span class=&#34;lineno&#34;&gt;20 &lt;/span&gt;    }
&lt;span class=&#34;lineno&#34;&gt;21 &lt;/span&gt;}
&lt;span class=&#34;lineno&#34;&gt;22 &lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;23 &lt;/span&gt;AppRegistry.registerComponent(&amp;#39;AwesomeNativeBase&amp;#39;, () =&amp;gt; AwesomeNativeBase);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We imported the component (line 5), and replaced the content of the main container (line 16).
If you reload the app, it should look like this:&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://PascalLeMerrer.github.io/blog/post/img/react-native-2/screenshot_2.png&#34;  /&gt;
    
    
&lt;/figure&gt;


&lt;h2 id=&#34;install-superagent&#34;&gt;Install Superagent&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://facebook.github.io/react-native/docs/network.html&#34;&gt;Fetch&lt;/a&gt; is the default API in React Native for making HTTP requests. It&amp;rsquo;s still in experimental status, so maybe that&amp;rsquo;s why I had an annoying bug with it: the request was not executed unless I tap the device screen. So I replaced it with a more mature library, &lt;a href=&#34;http://visionmedia.github.io/superagent/&#34;&gt;Superagent&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Integrating Superagent in a ReactNative app is dead simple. First download it and add it to the dependencies of the project:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;npm install superagent --save
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then you add this line to albumlist.js, just after the imports:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;superagent&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;superagent&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;That&amp;rsquo;s all! Now we are ready to make HTTP requests.&lt;/p&gt;

&lt;p&gt;Replace the constructor into &lt;code&gt;albumlist.js&lt;/code&gt; by these three functions:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;constructor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;props&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;kr&#34;&gt;super&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;props&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;state&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;nx&#34;&gt;loading&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
          &lt;span class=&#34;nx&#34;&gt;albums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;componentDidMount&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;load&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;load&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;superagent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;http://api.deezer.com/album/&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;props&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;albumId&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;/tracks&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Accept&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;application/json&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
              &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;setState&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;({&lt;/span&gt;
                  &lt;span class=&#34;nx&#34;&gt;loading&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                  &lt;span class=&#34;nx&#34;&gt;tracks&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;data&lt;/span&gt;
              &lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
              &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;setState&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;({&lt;/span&gt;
                  &lt;span class=&#34;nx&#34;&gt;loading&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;
              &lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This will automatically make a request to the Deezer API in order to load a list of albums for the artist with id 27 (Daft Punk). The result of the request is then put in the &amp;ldquo;albums&amp;rdquo; state.&lt;/p&gt;

&lt;p&gt;During the request execution, the &amp;ldquo;loading&amp;rdquo; state is set to true to display the spinner.&lt;/p&gt;

&lt;p&gt;Note how we use ES6 arrow notation for the request callback (the parameter of the &lt;code&gt;end&lt;/code&gt; function). It allows us to use &lt;code&gt;this&lt;/code&gt; in the callback. We do not need to write something like &lt;code&gt;var self=this;&lt;/code&gt; and then using &lt;code&gt;self&lt;/code&gt; instead of &lt;code&gt;this&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Now replace the render function with the following code:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;render&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;state&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;loading&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Spinner&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;#440099&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&amp;gt;&lt;/span&gt;
          &lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;List&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;dataArray&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;state&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;albums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
                  &lt;span class=&#34;nx&#34;&gt;renderRow&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt;
                      &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ListItem&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;
                          &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Thumbnail&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;square&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;60&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;source&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;uri&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cover_small&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&amp;gt;&lt;/span&gt;
                          &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Text&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/Text&amp;gt;&lt;/span&gt;
                      &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/ListItem&amp;gt;&lt;/span&gt;
                  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/List&amp;gt;&lt;/span&gt;
          &lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This new implementation displays a spinner during the request execution. After the response is received, it hides the spinner and replaces it with a list of albums, represented by their cover and title.&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://PascalLeMerrer.github.io/blog/post/img/react-native-2/screenshot_3.png&#34;  /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;The source code for the app is available &lt;a href=&#34;https://github.com/PascalLeMerrer/react-native-tuto/tree/step2&#34;&gt;on Github&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;At this stage my feelings about React Native are mixed:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;it produces very easily a working application, and until now It did not require from me any knowledge about Android development (although it won&amp;rsquo;t prevent me to learn Google&amp;rsquo;s guidelines to create an app with a good UX);&lt;/li&gt;
&lt;li&gt;the Fetch API seems buggy;&lt;/li&gt;
&lt;li&gt;React error messages often left me without any clue about what is causing them;&lt;/li&gt;
&lt;li&gt;sometimes the error messages appears in the app, sometimes in the terminal running the packager (which I tend to forget as it runs in background) ; sometimes I even have to stop the packager to make the message appear in the app.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;To sum up, the result looks very good (by now), but the tooling is still immature, which is understandable for a rather young technology.&lt;/p&gt;

&lt;p&gt;This concludes the second part in this journey to discover React Native. In the next one, we&amp;rsquo;ll add a detailed view for each album.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Creating a mobile application with React Native - part 3</title>
      <link>https://pascallemerrer.github.io/blog/post/react-native-3/</link>
      <pubDate>Thu, 18 Aug 2016 17:11:22 +0200</pubDate>
      
      <guid>https://pascallemerrer.github.io/blog/post/react-native-3/</guid>
      <description>

&lt;p&gt;In this third part of the &lt;a href=&#34;https://pascallemerrer.github.io/blog/post/react-native-1/&#34;&gt;series&lt;/a&gt; we will see of to navigate through different screens in the application.&lt;/p&gt;

&lt;h2 id=&#34;add-a-navigator&#34;&gt;Add a Navigator&lt;/h2&gt;

&lt;p&gt;We will use a navigator, which is a component for selecting the current scene to display.
A scene is just a component rendered full screen.&lt;/p&gt;

&lt;p&gt;The first thing to do is to transform the render function of the album list to make it a scene, and not just a component:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;render&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;state&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;loading&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Container&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;
              &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Spinner&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;#440099&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/Container&amp;gt;&lt;/span&gt;
          &lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Container&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Header&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;
                    &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;props&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/Title&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/Header&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Content&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;
                  &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;List&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;dataArray&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;state&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;albums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
                        &lt;span class=&#34;nx&#34;&gt;renderRow&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt;
                            &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ListItem&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;onPress&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;displayTracks&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)}&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;
                                &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Thumbnail&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;square&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;60&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;source&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;uri&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cover_small&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&amp;gt;&lt;/span&gt;
                                &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Text&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/Text&amp;gt;&lt;/span&gt;
                            &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/ListItem&amp;gt;&lt;/span&gt;
                        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;
                  &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/List&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/Content&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/Container&amp;gt;&lt;/span&gt;
          &lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The Container definition is now included in the rendering function of the AlbumList component.
Don&amp;rsquo;t forget to update the list of imported components for NativeBase, always in &lt;code&gt;albumlist.js&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;import { Content, Container, Header, List, ListItem, Spinner, Text, Thumbnail, Title } from &#39;native-base&#39;;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You may have noticed the Header content has changed too, in order to display a title which will be injected when mounting the album list.&lt;/p&gt;

&lt;p&gt;Then, going back to the &lt;code&gt;index.android.js&lt;/code&gt; file, we need to update the list of imports, to remove those who were moved to AlbumList, and import the Navigator component:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;import { AppRegistry, Navigator } from &#39;react-native&#39;;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then we replace the render function with these lines:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span&gt;&lt;/span&gt;renderScene(route, navigator) {
  return(
    &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;AlbumList&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;route&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;title&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;artistId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;route&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;artistId&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt;
  )
}

render() {
  return (
    &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Navigator&lt;/span&gt;
      &lt;span class=&#34;na&#34;&gt;initialRoute&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;{{&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title:&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;Album&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;List&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;Daft&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;Punk&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;,&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;artistId:27&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;}}&lt;/span&gt;
      &lt;span class=&#34;na&#34;&gt;renderScene&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;renderScene&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt;
  );
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The initialRoute property represents the context for this first scene.
Each scene is indeed associated to a &lt;em&gt;route&lt;/em&gt; (which is another name for a context in React Native). You can add any property on a route.
In our example, we&amp;rsquo;ll include two properties in the routes:
- an Id: albumId or artistId according to the type of the view;
- the title to be displayed in the header.&lt;/p&gt;

&lt;p&gt;So in &lt;code&gt;albumlist.js&lt;/code&gt; we change the URL to be requested, to use the ID of the artist injected when displaying the AlbumList component:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;superagent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;http://api.deezer.com/artist/&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;props&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;artistId&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;/albums&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;At this stage your code should look like &lt;a href=&#34;https://github.com/PascalLeMerrer/react-native-tuto/tree/step3-1&#34;&gt;this&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;add-the-track-list-scene&#34;&gt;Add the track list scene&lt;/h2&gt;

&lt;p&gt;Next, create a new file named &lt;code&gt;tracklist.js&lt;/code&gt;, with the following content:&lt;/p&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;lineno&#34;&gt; 1 &lt;/span&gt;import React, { Component } from &amp;#39;react&amp;#39;;
&lt;span class=&#34;lineno&#34;&gt; 2 &lt;/span&gt;import { Button, Content, Container, Header, List, ListItem, Icon, Spinner, Text, Title } from &amp;#39;native-base&amp;#39;;
&lt;span class=&#34;lineno&#34;&gt; 3 &lt;/span&gt;var superagent = require(&amp;#39;superagent&amp;#39;);
&lt;span class=&#34;lineno&#34;&gt; 4 &lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt; 5 &lt;/span&gt;export default class TrackList extends Component {
&lt;span class=&#34;lineno&#34;&gt; 6 &lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt; 7 &lt;/span&gt;    constructor(props) {
&lt;span class=&#34;lineno&#34;&gt; 8 &lt;/span&gt;      super(props);
&lt;span class=&#34;lineno&#34;&gt; 9 &lt;/span&gt;      this.state = {
&lt;span class=&#34;lineno&#34;&gt;10 &lt;/span&gt;          loading: true,
&lt;span class=&#34;lineno&#34;&gt;11 &lt;/span&gt;          tracks: null
&lt;span class=&#34;lineno&#34;&gt;12 &lt;/span&gt;      }
&lt;span class=&#34;lineno&#34;&gt;13 &lt;/span&gt;    }
&lt;span class=&#34;lineno&#34;&gt;14 &lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;15 &lt;/span&gt;    componentDidMount() {
&lt;span class=&#34;lineno&#34;&gt;16 &lt;/span&gt;        this.load();
&lt;span class=&#34;lineno&#34;&gt;17 &lt;/span&gt;    }
&lt;span class=&#34;lineno&#34;&gt;18 &lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;19 &lt;/span&gt;    load() {
&lt;span class=&#34;lineno&#34;&gt;20 &lt;/span&gt;      superagent.get(&amp;#39;http://api.deezer.com/album/&amp;#39; + this.props.albumId + &amp;#39;/tracks&amp;#39;)
&lt;span class=&#34;lineno&#34;&gt;21 &lt;/span&gt;        .set(&amp;#39;Accept&amp;#39;, &amp;#39;application/json&amp;#39;)
&lt;span class=&#34;lineno&#34;&gt;22 &lt;/span&gt;        .end((err, response) =&amp;gt; {
&lt;span class=&#34;lineno&#34;&gt;23 &lt;/span&gt;            if (response.ok) {
&lt;span class=&#34;lineno&#34;&gt;24 &lt;/span&gt;              this.setState({
&lt;span class=&#34;lineno&#34;&gt;25 &lt;/span&gt;                  loading: false,
&lt;span class=&#34;lineno&#34;&gt;26 &lt;/span&gt;                  tracks: response.body.data
&lt;span class=&#34;lineno&#34;&gt;27 &lt;/span&gt;              });
&lt;span class=&#34;lineno&#34;&gt;28 &lt;/span&gt;            }
&lt;span class=&#34;lineno&#34;&gt;29 &lt;/span&gt;            else {
&lt;span class=&#34;lineno&#34;&gt;30 &lt;/span&gt;              this.setState({
&lt;span class=&#34;lineno&#34;&gt;31 &lt;/span&gt;                  loading: false
&lt;span class=&#34;lineno&#34;&gt;32 &lt;/span&gt;              });
&lt;span class=&#34;lineno&#34;&gt;33 &lt;/span&gt;            }
&lt;span class=&#34;lineno&#34;&gt;34 &lt;/span&gt;        })
&lt;span class=&#34;lineno&#34;&gt;35 &lt;/span&gt;    }
&lt;span class=&#34;lineno&#34;&gt;36 &lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;37 &lt;/span&gt;    back() {
&lt;span class=&#34;lineno&#34;&gt;38 &lt;/span&gt;      this.props.navigator.pop();
&lt;span class=&#34;lineno&#34;&gt;39 &lt;/span&gt;    }
&lt;span class=&#34;lineno&#34;&gt;40 &lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;41 &lt;/span&gt;    render() {
&lt;span class=&#34;lineno&#34;&gt;42 &lt;/span&gt;        if(this.state.loading) {
&lt;span class=&#34;lineno&#34;&gt;43 &lt;/span&gt;          return (
&lt;span class=&#34;lineno&#34;&gt;44 &lt;/span&gt;            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Container&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;45 &lt;/span&gt;                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Header&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;46 &lt;/span&gt;                   &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Button&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;47 &lt;/span&gt;                    &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Icon&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;md-arrow-back&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;48 &lt;/span&gt;                   &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Button&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;49 &lt;/span&gt;                   &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;{this.props.title}&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;50 &lt;/span&gt;                &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Header&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;51 &lt;/span&gt;              &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Spinner&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;#440099&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;52 &lt;/span&gt;            &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Container&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;53 &lt;/span&gt;          );
&lt;span class=&#34;lineno&#34;&gt;54 &lt;/span&gt;        }
&lt;span class=&#34;lineno&#34;&gt;55 &lt;/span&gt;        else {
&lt;span class=&#34;lineno&#34;&gt;56 &lt;/span&gt;          return(
&lt;span class=&#34;lineno&#34;&gt;57 &lt;/span&gt;            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Container&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;58 &lt;/span&gt;                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Header&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;59 &lt;/span&gt;                   &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Button&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;info&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;onPress&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;{()=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;this.back()}&amp;gt;
&lt;span class=&#34;lineno&#34;&gt;60 &lt;/span&gt;                    &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Icon&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;md-arrow-back&amp;quot;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;61 &lt;/span&gt;                   &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Button&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;62 &lt;/span&gt;                   &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;{this.props.title}&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;63 &lt;/span&gt;                &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Header&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;64 &lt;/span&gt;                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Content&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;65 &lt;/span&gt;                  &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;List&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;dataArray&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;{this.state.tracks}&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;66 &lt;/span&gt;                        &lt;span class=&#34;na&#34;&gt;renderRow&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;{(item)&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;67 &lt;/span&gt;                            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ListItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;68 &lt;/span&gt;                                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;{item.title}&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;69 &lt;/span&gt;                            &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ListItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;70 &lt;/span&gt;                        }&amp;gt;
&lt;span class=&#34;lineno&#34;&gt;71 &lt;/span&gt;                  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;72 &lt;/span&gt;                &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Content&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;73 &lt;/span&gt;            &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Container&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;lineno&#34;&gt;74 &lt;/span&gt;          );
&lt;span class=&#34;lineno&#34;&gt;75 &lt;/span&gt;        }
&lt;span class=&#34;lineno&#34;&gt;76 &lt;/span&gt;    }
&lt;span class=&#34;lineno&#34;&gt;77 &lt;/span&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This defines a new scene named TrackList, which displays the list of tracks for a given album.
This new component is rather similar to the AlbumList.
It loads a list of tracks for the album whose id will be provided as a property of the TrackList instance (line 20).
It also expects the navigator instance to be passed as a property. It is used in the &lt;code&gt;back&lt;/code&gt; function (line 38) to drop this scene and go back to the AlbumList. The &lt;code&gt;back&lt;/code&gt; function is invoked when pressing the button in the header (line 59).&lt;/p&gt;

&lt;p&gt;Now we must add an import directive in &lt;code&gt;index.android.js&lt;/code&gt; to be able to use this new scene:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;TrackList&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;./tracklist&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And then we change the rendering functions of the app:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;class AwesomeNativeBase extends Component {

    renderScene(route, navigator) {
      if (route.scene == 1) {
        return(
          &amp;lt;TrackList title={ route.title } albumId={ route.albumId } navigator={ navigator }/&amp;gt;
        )
      }
      else {
        return(
          &amp;lt;AlbumList title={ route.title } artistId={ route.artistId } navigator={ navigator } /&amp;gt;
        )
      }
    }

    render() {

      const routes = [ { scene: 0,
                         title: &#39;Album List for Daft Punk&#39;,
                         artistId: 27
                       }
                     ];
      return (
        &amp;lt;Navigator
          initialRoute={ routes[0] }
          renderScene={ this.renderScene }
        /&amp;gt;
      );
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The &lt;code&gt;renderScene&lt;/code&gt; function displays either an AlbumList or a TrackList, according to the selected route. It also provides the selected scene with contextual properties (a title, an artist or album ID) and injects the navigator instance. The scene property in the routes identifies the type of scene to render (AlbumList or TrackList).&lt;/p&gt;

&lt;p&gt;Finally, we have to modify the album list, to make the list items interactive and trigger the display of the track list when one of them is tapped.&lt;/p&gt;

&lt;p&gt;In &lt;code&gt;albumlist.js&lt;/code&gt;, add a function named &lt;code&gt;displayTracks&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;displayTracks&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;album&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;route&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                  &lt;span class=&#34;nx&#34;&gt;albumId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;album&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                  &lt;span class=&#34;nx&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;album&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                  &lt;span class=&#34;nx&#34;&gt;scene&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;props&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;navigator&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;push&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;route&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And in the render function, replace &lt;code&gt;&amp;lt;List Item&amp;gt;&lt;/code&gt; with&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ListItem&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;button&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;onPress&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;{()=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;this.displayTracks(item)}&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Adding the &lt;code&gt;button&lt;/code&gt; attribute to the &lt;code&gt;ListItem&lt;/code&gt; component makes it interactive. It allows it to detect the onPress event and so invoke &lt;code&gt;displayTracks&lt;/code&gt; when it is tapped. The camel case is important there, make sure to write &lt;code&gt;onPress&lt;/code&gt; and not &lt;code&gt;onpress&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;You should now be able to go back and forth between the Album List and Track List.

&lt;figure &gt;
    
        &lt;img src=&#34;https://PascalLeMerrer.github.io/blog/post/img/react-native-3/screenshot_1.png&#34;  /&gt;
    
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;h2 id=&#34;performance-issues&#34;&gt;Performance issues&lt;/h2&gt;

&lt;p&gt;The display of the list of tracks works, but it is slow. It may even be very slow.
To improve this, we have three easy steps to perform.&lt;/p&gt;

&lt;p&gt;First, disable the remote debugging if it is active (press the menu button in the app). The remote debugger has a dramatic impact on transition performances.&lt;/p&gt;

&lt;p&gt;Second, remove the console.log() calls you may have inserted. Their impact may be rather significant, as usual with logs.&lt;/p&gt;

&lt;p&gt;And last but not least, wait for the transition to be finished before making a request to the Deezer API and displaying the response. To do this, we must import the InteractionManager in &lt;code&gt;tracklist.js&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;InteractionManager&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;react-native&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And then replace the &lt;code&gt;componentDidMount&lt;/code&gt; function with:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;componentDidMount&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;c1&#34;&gt;// delay the loading after the end of the transition&lt;/span&gt;
  &lt;span class=&#34;nx&#34;&gt;InteractionManager&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;runAfterInteractions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;load&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;After these three simple modifications, the performance is quite good. It should be even better when we will package the application in release mode, after the development is finished.&lt;/p&gt;

&lt;p&gt;The final code for this article is available &lt;a href=&#34;https://github.com/PascalLeMerrer/react-native-tuto/tree/step3-2&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;The way to a working application wih several view using the basic Navigator component was not as easy as I thought it would be. I had to try several solutions, and did not find a way to do it without injecting the navigator into the scenes. I would have prefered to inject a fonction only, to avoid the scenes to be aware of the implementation details of the navigation. There are many alternative navigation components available, maybe it&amp;rsquo;s a sign there is some room for improvement on the basic one.&lt;/p&gt;

&lt;p&gt;On the positive side, the &lt;a href=&#34;https://facebook.github.io/react-native/docs/performance.html&#34;&gt;documentation&lt;/a&gt; gives some simple and effective hints to improve the performance of your application.&lt;/p&gt;

&lt;p&gt;In the next article, we will add a last scene to this marvelous application. It could be nice indeed, if the app was not limited to display Daft Punk album and track lists ;)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Creating a mobile application with React Native - part 1</title>
      <link>https://pascallemerrer.github.io/blog/post/react-native-1/</link>
      <pubDate>Mon, 15 Aug 2016 00:18:02 +0200</pubDate>
      
      <guid>https://pascallemerrer.github.io/blog/post/react-native-1/</guid>
      <description>

&lt;p&gt;These is the first post of a series dedicated to the creation of a mobile application for both Android and iOS.&lt;/p&gt;

&lt;p&gt;Developing for both OS using their respective native technologies would require a lot of time, especially for me who doesn&amp;rsquo;t know them. I do not consider myself as a mobile developer, although I built a mobile game and some apps a few years ago using another multiplatform technology, Adobe Air. That&amp;rsquo;s why I will use React Native.&lt;/p&gt;

&lt;h2 id=&#34;what-is-react-native&#34;&gt;What is React Native?&lt;/h2&gt;

&lt;p&gt;React Native is a set of tools and a framework to create &lt;strong&gt;native&lt;/strong&gt; mobile application with Javascript, HTML and CSS.
This open source technology is developed mainly by Facebook, but they have succeeded in gathering a large community.&lt;/p&gt;

&lt;p&gt;According to me, React Native has a realistic approach of multiplatform development. First, it does not try to use the same UI components for both iOS and Android. Second, it uses native UI components, to provide a really nice user experience - this is where technologies using a webview for rendering, like Cordova or Ionic, usually show their limitations.&lt;/p&gt;

&lt;h2 id=&#34;hardware&#34;&gt;Hardware&lt;/h2&gt;

&lt;p&gt;I code using a Macbook. That&amp;rsquo;s my computer of choice for programming since a few yers ago (but definitely not for playing games^^). Moreover OSX is mandatory for creating iOS apps.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;ve got two Android phones: an Orange Nura running Android KitKat (4.4.2), and a Nexus 4 with Android Marshmallow (5.x). I will target the Android 4.4 phone first, assuming it will be easier to make the app running on more recent versions, than doing it the other way.&lt;/p&gt;

&lt;p&gt;My wife and I also have several iOS devices: iPhone 4 and 5, two iPads, with iOS versions ranging from 7 to 9. So I will try to make an app running on these devices, assuming React-Native allows it (I did not check it yet).&lt;/p&gt;

&lt;p&gt;I will focus on the Android version from now, and will come back later to iOS.&lt;/p&gt;

&lt;p&gt;NB: you may have to &lt;a href=&#34;http://www.androidcentral.com/how-enable-developer-settings-android-42&#34;&gt;activate the developer mode&lt;/a&gt; on your Android phone and allow USB debugging in the related menu.&lt;/p&gt;

&lt;h2 id=&#34;environment&#34;&gt;Environment&lt;/h2&gt;

&lt;h3 id=&#34;nodejs&#34;&gt;NodeJS&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://nodejs.org/en/&#34;&gt;NodeJS&lt;/a&gt; &amp;gt;= 4.0 and npm &amp;gt;= 3.0 are required.
Type &amp;ldquo;npm version&amp;rdquo; to check which versions you are running.&lt;/p&gt;

&lt;h3 id=&#34;install-the-android-sdk&#34;&gt;Install the Android SDK&lt;/h3&gt;

&lt;p&gt;Installing &lt;a href=&#34;https://developer.android.com/studio/index.html&#34;&gt;Android Studio&lt;/a&gt; seemed a bit heavy to me, but I did not find a link to download the Android SDK only. &lt;em&gt;Let me know if I missed something&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Then I used Android Studio to install the SDKs:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Android Studio &amp;gt; Preferences &amp;gt; Apparence and Behavior &amp;gt; System Settings &amp;gt; Android SDK&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;https://PascalLeMerrer.github.io/blog/post/img/react-native-1/SDK1.png&#34;  /&gt;
    
    
&lt;/figure&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://PascalLeMerrer.github.io/blog/post/img/react-native-1/SDK2.png&#34;  /&gt;
    
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;p&gt;It&amp;rsquo;s rather long, but once it&amp;rsquo;s done, you can close Android Studio.&lt;/p&gt;

&lt;h3 id=&#34;install-react-native&#34;&gt;Install React Native&lt;/h3&gt;

&lt;p&gt;To install React-Native on OSX for producing Android apps:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;brew install node
brew install watchman
npm install -g react-native-cli
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If your OS is different, just follow the &lt;a href=&#34;https://facebook.github.io/react-native/docs/getting-started.html&#34;&gt;documentation provided by Facebook&lt;/a&gt;.
Display the instructions related to your environment, by selecting a mobile OS and a development OS:&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://PascalLeMerrer.github.io/blog/post/img/react-native-1/install-react.png&#34;  /&gt;
    
    
&lt;/figure&gt;


&lt;h2 id=&#34;create-a-basic-application&#34;&gt;Create a basic application&lt;/h2&gt;

&lt;p&gt;At first you have to create a React Native application:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;react-native init AwesomeNativeBase
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This will generate a basic app in a directory named AwesomeNativeBase.&lt;/p&gt;

&lt;h2 id=&#34;run-the-app-on-an-android-device&#34;&gt;Run the app on an Android device&lt;/h2&gt;

&lt;p&gt;In the terminal, type:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;react-native run-android
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I choose not to use an Android emulator, as it had a poor reputation a couple of years ago. &lt;em&gt;If it has improved, let me know&lt;/em&gt;. Moreover, I know from my own experience its better to test your application on a real device as soon as possible. No emulator is perfect.&lt;/p&gt;

&lt;p&gt;At the first launch Ive got an error message on my device (an Android 4.4.2 phone):&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://PascalLeMerrer.github.io/blog/post/img/react-native-1/androidbug.png&#34;  /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;&lt;em&gt;If you&amp;rsquo;re luckier than me, you may skip directly to the testing part.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;I solved it by replacing the &amp;ldquo;scripts&amp;rdquo; node in the package.json file with the following lines:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span&gt;&lt;/span&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;quot;scripts&amp;quot;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;quot;build&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;(cd android/ &amp;amp;&amp;amp; ./gradlew assembleDebug)&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;quot;start&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;node node_modules/react-native/local-cli/cli.js start&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;quot;bundle-android&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;react-native bundle --platform android --dev false --entry-file index.android.js --bundle-output android/app/src/main/assets/index.android.bundle --sourcemap-output android/app/src/main/assets/index.android.map --assets-dest android/app/src/main/res/&amp;quot;&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;,&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This adds two commands that you can run to produce an app: &lt;code&gt;npm run build&lt;/code&gt; and &lt;code&gt;npm run bundle-android&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Create the assets directory, then compile your application:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mkdir android/app/src/main/assets
npm run bundle-android
npm run build
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Launch the react packager in another terminal and let it running as long as you work on your app:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;npm run start
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then you have to copy your APK from `AwesomeNativeBase/android/app/build/outputs/apk to your phone.
To copy easily the file I use &lt;a href=&#34;https://android.com/filetransfer/&#34;&gt;Android File Transfer&lt;/a&gt;. Open it, then drop the APK in the destination folder.&lt;/p&gt;

&lt;p&gt;On your phone use an explorer to access the APK and tap it to start the installation.&lt;/p&gt;

&lt;p&gt;Your app should be up running!&lt;/p&gt;

&lt;h3 id=&#34;testing&#34;&gt;Testing&lt;/h3&gt;

&lt;p&gt;Fortunately, you don&amp;rsquo;t have to go through this whole process each time you want to test your devs. In fact, and it&amp;rsquo;s a strong point in React Native, you just have to reload the app just after you saved a modification for getting the new version on your device.&lt;/p&gt;

&lt;p&gt;The first way to reload the app is to tap the menu button to open the developer menu
 and hit &amp;ldquo;reload&amp;rdquo;. This menu also offers a &amp;ldquo;live reload&amp;rdquo; feature, so you don&amp;rsquo;t even have to anually trigger the reloading (although it not always work).&lt;/p&gt;

&lt;p&gt;Before reloading the app, you must enter the IP address of your development computer. It must be reachable by the device (the easiest way being both of them are connected to the same local network through Wifi).&lt;/p&gt;

&lt;p&gt;Open the developer menu, select &amp;ldquo;Dev settings &amp;gt; Debug server host &amp;amp; port for device&amp;rdquo;, then enter:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;192.168.x.y:8081
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;8081 is the default port for the packager you should have launched with &amp;ldquo;npm run start&amp;rdquo;.&lt;/p&gt;

&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;This was the hard part: installing the environment, and getting the application running on a real device. Now comes something more pleasant for me: developping the app. But that&amp;rsquo;s another story :)&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>